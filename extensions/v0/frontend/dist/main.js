var De=Object.defineProperty;var Be=(t,e,n)=>e in t?De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>Be(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function k(){}const Te=t=>t;function $e(t){return t()}function we(){return Object.create(null)}function B(t){t.forEach($e)}function he(t){return typeof t=="function"}function q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Re(t){return Object.keys(t).length===0}const Ie=typeof window<"u";let ze=Ie?()=>window.performance.now():()=>Date.now(),pe=Ie?t=>requestAnimationFrame(t):k;const N=new Set;function Oe(t){N.forEach(e=>{e.c(t)||(N.delete(e),e.f())}),N.size!==0&&pe(Oe)}function Fe(t){let e;return N.size===0&&pe(Oe),{promise:new Promise(n=>{N.add(e={c:t,f:n})}),abort(){N.delete(e)}}}function p(t,e){t.appendChild(e)}function Ce(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function He(t){const e=y("style");return e.textContent="/* empty */",Ue(Ce(t),e),e.sheet}function Ue(t,e){return p(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function $(){return U(" ")}function ie(){return U("")}function F(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ee(t){return t===""?null:+t}function Ve(t){return Array.from(t.childNodes)}function Pe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Z(t,e){t.value=e??""}function ve(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ae(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}const te=new Map;let ne=0;function qe(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Ke(t,e){const n={stylesheet:He(e),rules:{}};return te.set(t,n),n}function Ge(t,e,n,o,r,i,c,u=0){const s=16.666/o;let l=`{
`;for(let _=0;_<=1;_+=s){const b=e+(n-e)*i(_);l+=_*100+`%{${c(b,1-b)}}
`}const a=l+`100% {${c(n,1-n)}}
}`,f=`__svelte_${qe(a)}_${u}`,g=Ce(t),{stylesheet:m,rules:w}=te.get(g)||Ke(g,t);w[f]||(w[f]=!0,m.insertRule(`@keyframes ${f} ${a}`,m.cssRules.length));const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${o}ms linear ${r}ms 1 both`,ne+=1,f}function be(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=n.length-o.length;r&&(t.style.animation=o.join(", "),ne-=r,ne||Je())}function Je(){pe(()=>{ne||(te.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&S(e)}),te.clear())})}let V;function H(t){V=t}function _e(){if(!V)throw new Error("Function called outside component initialization");return V}function K(t){_e().$$.on_mount.push(t)}function Ye(t){_e().$$.on_destroy.push(t)}function Qe(){const t=_e();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=Ae(e,n,{cancelable:o});return r.slice().forEach(c=>{c.call(t,i)}),!i.defaultPrevented}return!0}}const M=[],oe=[];let j=[];const de=[],Xe=Promise.resolve();let me=!1;function Ze(){me||(me=!0,Xe.then(Me))}function D(t){j.push(t)}function We(t){de.push(t)}const fe=new Set;let A=0;function Me(){if(A!==0)return;const t=V;do{try{for(;A<M.length;){const e=M[A];A++,H(e),et(e.$$)}}catch(e){throw M.length=0,A=0,e}for(H(null),M.length=0,A=0;oe.length;)oe.pop()();for(let e=0;e<j.length;e+=1){const n=j[e];fe.has(n)||(fe.add(n),n())}j.length=0}while(M.length);for(;de.length;)de.pop()();me=!1,fe.clear(),H(t)}function et(t){if(t.fragment!==null){t.update(),B(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}function tt(t){const e=[],n=[];j.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),j=e}let z;function nt(){return z||(z=Promise.resolve(),z.then(()=>{z=null})),z}function xe(t,e,n){t.dispatchEvent(Ae(`intro${n}`))}const W=new Set;let P;function Ne(){P={r:0,c:[],p:P}}function je(){P.r||B(P.c),P=P.p}function T(t,e){t&&t.i&&(W.delete(t),t.i(e))}function C(t,e,n,o){if(t&&t.o){if(W.has(t))return;W.add(t),P.c.push(()=>{W.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const ot={duration:0};function ke(t,e,n){const o={direction:"in"};let r=e(t,n,o),i=!1,c,u,s=0;function l(){c&&be(t,c)}function a(){const{delay:g=0,duration:m=300,easing:w=Te,tick:d=k,css:_}=r||ot;_&&(c=Ge(t,0,1,m,g,w,_,s++)),d(0,1);const b=ze()+g,v=b+m;u&&u.abort(),i=!0,D(()=>xe(t,!0,"start")),u=Fe(I=>{if(i){if(I>=v)return d(1,0),xe(t,!0,"end"),l(),i=!1;if(I>=b){const x=w((I-b)/m);d(x,1-x)}}return i})}let f=!1;return{start(){f||(f=!0,be(t),he(r)?(r=r(o),nt().then(a)):a())},invalidate(){f=!1},end(){i&&(l(),i=!1)}}}function rt(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function se(t){t&&t.c()}function G(t,e,n){const{fragment:o,after_update:r}=t.$$;o&&o.m(e,n),D(()=>{const i=t.$$.on_mount.map($e).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...i):B(i),t.$$.on_mount=[]}),r.forEach(D)}function J(t,e){const n=t.$$;n.fragment!==null&&(tt(n.after_update),B(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){t.$$.dirty[0]===-1&&(M.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(t,e,n,o,r,i,c=null,u=[-1]){const s=V;H(t);const l=t.$$={fragment:null,ctx:[],props:i,update:k,not_equal:r,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:we(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};c&&c(l.root);let a=!1;if(l.ctx=n?n(t,e.props||{},(f,g,...m)=>{const w=m.length?m[0]:g;return l.ctx&&r(l.ctx[f],l.ctx[f]=w)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](w),a&&it(t,f)),g}):[],l.update(),a=!0,B(l.before_update),l.fragment=o?o(l.ctx):!1,e.target){if(e.hydrate){const f=Ve(e.target);l.fragment&&l.fragment.l(f),f.forEach(S)}else l.fragment&&l.fragment.c();e.intro&&T(t.$$.fragment),G(t,e.target,e.anchor),Me()}H(s)}class Q{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){J(this,1),this.$destroy=k}$on(e,n){if(!he(n))return k;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!Re(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const st="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(st);const re="https://intervention.jryng.com",lt=`${re}/api/v1`,ct=async(t,e)=>{console.log("key",t),chrome.storage.sync.set({[t]:e})},at=async t=>new Promise(e=>{chrome.storage.sync.get(t,n=>{e(n[t])})}),ut=async t=>{chrome.storage.sync.remove(t)},O={get:at,set:ct,remove:ut};function ft(t){let e;return{c(){e=y("div"),h(e,"class","fixed top-0 right-0 left-0 bottom-0 w-full min-h-screen h-screen flex justify-center z-[9999999999] overflow-hidden overscroll-contain pointer-events-none"),ve(e,"backdrop-filter","grayscale("+t[0]+")")},m(n,o){L(n,e,o)},p(n,[o]){o&1&&ve(e,"backdrop-filter","grayscale("+n[0]+")")},i:k,o:k,d(n){n&&S(e)}}}function dt(t,e,n){let{delta:o=.01}=e,r=0,i=null;return K(()=>{n(0,r=parseFloat(sessionStorage.getItem("grayscale")??"0")||0);const c=s=>{console.log("mousedown",s),n(0,r=Math.min(1,r+o)),console.log("Grayscale",r),sessionStorage.setItem("grayscale",r)},u=s=>{clearTimeout(i),i=setTimeout(function(){n(0,r=Math.min(1,r+o)),sessionStorage.setItem("grayscale",r),console.log("Grayscale",r)},100)};return window.addEventListener("wheel",u),window.addEventListener("mousedown",c),()=>{window.removeEventListener("wheel",u),window.removeEventListener("mousedown",c)}}),t.$$set=c=>{"delta"in c&&n(1,o=c.delta)},[r,o]}class mt extends Q{constructor(e){super(),Y(this,e,dt,ft,q,{delta:1})}}function ht(t){const e=t-1;return e*e*e+1}function pt(t,{delay:e=0,duration:n=400,easing:o=Te}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:i=>`opacity: ${i*r}`}}const _t={y:-8,start:.95,duration:200},gt=(t,e)=>{const n=getComputedStyle(t),o=n.transform==="none"?"":n.transform,r={..._t,...e},i=(u,s,l)=>{const[a,f]=s,[g,m]=l;return(u-a)/(f-a)*(m-g)+g},c=u=>Object.keys(u).reduce((s,l)=>u[l]===void 0?s:s+`${l}:${u[l]};`,"");return{duration:r.duration??200,delay:0,css:u=>{const s=i(u,[0,1],[r.y,0]),l=i(u,[0,1],[r.start,1]);return c({transform:`${o} translate3d(0, ${s}px, 0) scale(${l})`,opacity:u})},easing:ht}};function Se(t){let e,n,o,r,i,c,u,s,l,a,f,g,m,w,d,_,b,v,I,x,ge,X,le,ce,ae,ye;return{c(){e=y("div"),n=y("div"),o=y("div"),r=y("div"),i=y("div"),i.textContent="Timer",c=$(),u=y("button"),s=U(t[1]),l=$(),a=y("div"),f=y("div"),f.textContent="Set a duration for the timer",g=$(),m=y("div"),w=y("div"),d=y("input"),_=$(),b=y("div"),b.textContent="hours",v=$(),I=y("div"),x=y("input"),ge=$(),X=y("div"),X.textContent="min",h(i,"class","timer-modal-title self-center"),h(u,"class","timer-set-button"),h(u,"type","button"),h(r,"class","flex justify-between items-center"),h(f,"class","text-sm text-gray-500"),h(d,"placeholder","0"),h(d,"class","timer-input"),h(d,"type","number"),h(d,"min","0"),h(d,"max","23"),h(d,"step","1"),d.required=!0,h(b,"class","translate-y-1 text-gray-500 text-sm"),h(w,"class","flex items-center gap-2 w-full"),h(x,"placeholder","0"),h(x,"class","timer-input"),h(x,"type","number"),h(x,"min","0"),h(x,"max","59"),h(x,"step","1"),x.required=!0,h(X,"class","translate-y-1 text-gray-500 text-sm"),h(I,"class","flex items-center gap-2 w-full"),h(m,"class","timer-input-container"),h(o,"class","px-[1.75rem] py-6"),h(n,"class","overlay-modal-container"),h(e,"class","overlay-modal")},m(E,R){L(E,e,R),p(e,n),p(n,o),p(o,r),p(r,i),p(r,c),p(r,u),p(u,s),p(o,l),p(o,a),p(a,f),p(a,g),p(a,m),p(m,w),p(w,d),Z(d,t[3]),p(w,_),p(w,b),p(m,v),p(m,I),p(I,x),Z(x,t[4]),p(I,ge),p(I,X),t[14](e),ae||(ye=[F(u,"click",t[11]),F(d,"input",t[12]),F(x,"input",t[13]),F(n,"mousedown",wt)],ae=!0)},p(E,R){R&2&&Pe(s,E[1]),R&8&&ee(d.value)!==E[3]&&Z(d,E[3]),R&16&&ee(x.value)!==E[4]&&Z(x,E[4])},i(E){E&&(le||D(()=>{le=ke(n,gt,{}),le.start()})),E&&(ce||D(()=>{ce=ke(e,pt,{duration:10}),ce.start()}))},o:k,d(E){E&&S(e),t[14](null),ae=!1,B(ye)}}}function yt(t){let e,n=t[0]&&Se(t);return{c(){n&&n.c(),e=ie()},m(o,r){n&&n.m(o,r),L(o,e,r)},p(o,[r]){o[0]?n?(n.p(o,r),r&1&&T(n,1)):(n=Se(o),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i(o){T(n)},o:k,d(o){o&&S(e),n&&n.d(o)}}}const wt=t=>{t.stopPropagation()};function vt(t,e,n){const o=Qe();let{message:r=""}=e,{cancelLabel:i="Cancel"}=e,{confirmLabel:c="Set"}=e,{input:u=!1}=e,{inputPlaceholder:s=""}=e,{show:l=!1}=e,a=null,f=!1,g="0",m="20";K(()=>{n(10,f=!0)});const w=()=>{n(0,l=!1);const v=parseInt(g)*60+parseInt(m);o("confirm",v)};function d(){g=ee(this.value),n(3,g)}function _(){m=ee(this.value),n(4,m)}function b(v){oe[v?"unshift":"push"](()=>{a=v,n(2,a)})}return t.$$set=v=>{"message"in v&&n(6,r=v.message),"cancelLabel"in v&&n(7,i=v.cancelLabel),"confirmLabel"in v&&n(1,c=v.confirmLabel),"input"in v&&n(8,u=v.input),"inputPlaceholder"in v&&n(9,s=v.inputPlaceholder),"show"in v&&n(0,l=v.show)},t.$$.update=()=>{t.$$.dirty&1025&&f&&(l?document.body.style.overflow="hidden":document.body.style.overflow="unset")},[l,c,a,g,m,o,r,i,u,s,f,w,d,_,b]}class bt extends Q{constructor(e){super(),Y(this,e,vt,yt,q,{message:6,cancelLabel:7,confirmLabel:1,input:8,inputPlaceholder:9,show:0})}}const xt=async(t,e)=>{let n=null;const o=await fetch(`${lt}/usage/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,extension_id:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>(console.log(r),n=r.detail,null));if(n)throw n;return o},Ee=t=>{const e=i=>String(i).padStart(2,"0"),n=Math.floor(t/3600),o=Math.floor(t%3600/60),r=t%60;return n>0?`${e(n)}:${e(o)}:${e(r)}`:`${e(o)}:${e(r)}`},kt=async(t,e)=>{console.log("startTracker: ",t,e),setInterval(async()=>{await xt(t,e)},5e3)};function Le(t){let e,n,o,r,i,c,u,s,l,a,f,g,m;return{c(){e=y("div"),n=y("div"),o=y("div"),r=y("div"),r.innerHTML='<svg class="size-10 text-gray-800 font-medium" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.5 4h-13m13 16h-13M8 20v-3.333a2 2 0 0 1 .4-1.2L10 12.6a1 1 0 0 0 0-1.2L8.4 8.533a2 2 0 0 1-.4-1.2V4h8v3.333a2 2 0 0 1-.4 1.2L13.957 11.4a1 1 0 0 0 0 1.2l1.643 2.867a2 2 0 0 1 .4 1.2V20H8Z"></path></svg>',i=$(),c=y("div"),c.textContent="Time Limit",u=$(),s=y("div"),s.textContent="You've reached your limit on this page.",l=$(),a=y("div"),f=y("button"),f.textContent="Ignore Timer",h(r,"class","text-center"),h(c,"class","text-3xl font-medium"),h(s,"class","mt-2"),h(f,"class","timer-ignore-button"),h(a,"class","mt-2"),h(o,"class","my-auto text-center"),h(n,"class","flex"),h(e,"class","full-screen-overlay")},m(w,d){L(w,e,d),p(e,n),p(n,o),p(o,r),p(o,i),p(o,c),p(o,u),p(o,s),p(o,l),p(o,a),p(a,f),g||(m=F(f,"click",t[6]),g=!0)},p:k,d(w){w&&S(e),g=!1,m()}}}function St(t){let e,n,o,r,i=Ee(t[0])+"",c,u,s,l,a,f,g;function m(_){t[4](_)}let w={};t[1]!==void 0&&(w.show=t[1]),s=new bt({props:w}),oe.push(()=>rt(s,"show",m)),s.$on("confirm",t[5]);let d=t[2]&&Le(t);return{c(){e=y("div"),n=y("div"),o=y("div"),r=U("Time remaining: "),c=U(i),u=$(),se(s.$$.fragment),a=$(),d&&d.c(),f=ie(),h(o,"class","timer-display"),h(n,"class","timer-display-container"),h(e,"class","overlay")},m(_,b){L(_,e,b),p(e,n),p(n,o),p(o,r),p(o,c),L(_,u,b),G(s,_,b),L(_,a,b),d&&d.m(_,b),L(_,f,b),g=!0},p(_,[b]){(!g||b&1)&&i!==(i=Ee(_[0])+"")&&Pe(c,i);const v={};!l&&b&2&&(l=!0,v.show=_[1],We(()=>l=!1)),s.$set(v),_[2]?d?d.p(_,b):(d=Le(_),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(_){g||(T(s.$$.fragment,_),g=!0)},o(_){C(s.$$.fragment,_),g=!1},d(_){_&&(S(e),S(u),S(a),S(f)),J(s,_),d&&d.d(_)}}}function Et(t,e,n){let o=0,r=null,i=0,c=!1,u=!1;const s=()=>{r&&clearInterval(r),n(0,i=o),r=setInterval(()=>{i>0?(n(0,i--,i),localStorage.timer_duration=i):(clearInterval(r),n(2,u=!0),localStorage.timer_duration=0,o=0)},1e3)};K(()=>{console.log(localStorage.timer),localStorage.timer_duration&&parseInt(localStorage.timer_duration)>0?(o=parseInt(localStorage.timer_duration),s()):parseInt(localStorage.timer_duration)===0?n(2,u=!0):n(1,c=!0)});const l=m=>{n(1,c=!1),o=parseInt(m*60),s()};function a(m){c=m,n(1,c)}return[i,c,u,l,a,m=>{l(m.detail)},()=>{localStorage.removeItem("timer_duration"),n(2,u=!1),n(1,c=!0)}]}class Lt extends Q{constructor(e){super(),Y(this,e,Et,St,q,{})}}function Tt(t){const e=o=>{switch(o.key){case"ArrowUp":console.log("ArrowUp"),window.scrollBy(0,-50);break;case"ArrowDown":console.log("ArrowDown"),window.scrollBy(0,50);break}},n=o=>{o.preventDefault()};return K(()=>{window.addEventListener("wheel",n,{passive:!1}),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("keydown",e)}),Ye(()=>{window.removeEventListener("wheel",n),window.removeEventListener("touchmove",n),window.removeEventListener("keydown",e)}),[]}class $t extends Q{constructor(e){super(),Y(this,e,Tt,null,q,{})}}function It(t){let e;return{c(){e=y("div"),e.innerHTML='<div class="m-auto rounded-2xl w-[36rem] max-w-full mx-2 bg-white shadow-2xl max-h-[100dvh] overflow-y-auto"><div class="flex flex-col p-4 text-center">Loading...</div></div>',h(e,"class","modal fixed top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center z-[9999] overflow-hidden overscroll-contain")},m(n,o){L(n,e,o)},p:k,i:k,o:k,d(n){n&&S(e)}}}function Ot(t){let e;return{c(){e=y("div"),e.innerHTML=`<div class="m-auto rounded-2xl w-[36rem] max-w-full mx-2 bg-white shadow-2xl max-h-[100dvh] overflow-y-auto"><div class="flex flex-col p-4 mb-4"><div class="w-full flex items-center gap-3"><div class="flex justify-center"><img src="${re}/logo.png" alt="logo" class="size-12 rounded-full"/></div> <div class="text-xl text-gray-600 font-semibold"></div></div> <div class="flex flex-col"><iframe src="${re}/survey" style="border-style: none;width: 100%; height: 30rem; overflow: hidden;"></iframe></div></div></div>`,h(e,"class","modal fixed top-0 right-0 left-0 bottom-0 bg-black/60 w-full min-h-screen h-screen flex justify-center z-[9999] overflow-hidden overscroll-contain")},m(n,o){L(n,e,o)},p:k,i:k,o:k,d(n){n&&S(e)}}}function Ct(t){let e,n,o,r;const i=[Mt,At,Pt],c=[];function u(s,l){return s[1]==="timer"?0:s[1]==="gray"?1:s[1]==="tap"?2:-1}return~(e=u(t))&&(n=c[e]=i[e](t)),{c(){n&&n.c(),o=ie()},m(s,l){~e&&c[e].m(s,l),L(s,o,l),r=!0},p(s,l){let a=e;e=u(s),e!==a&&(n&&(Ne(),C(c[a],1,1,()=>{c[a]=null}),je()),~e?(n=c[e],n||(n=c[e]=i[e](s),n.c()),T(n,1),n.m(o.parentNode,o)):n=null)},i(s){r||(T(n),r=!0)},o(s){C(n),r=!1},d(s){s&&S(o),~e&&c[e].d(s)}}}function Pt(t){let e,n;return e=new $t({}),{c(){se(e.$$.fragment)},m(o,r){G(e,o,r),n=!0},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function At(t){let e,n;return e=new mt({}),{c(){se(e.$$.fragment)},m(o,r){G(e,o,r),n=!0},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Mt(t){let e,n;return e=new Lt({}),{c(){se(e.$$.fragment)},m(o,r){G(e,o,r),n=!0},i(o){n||(T(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){J(e,o)}}}function Nt(t){let e,n,o,r;const i=[Ct,Ot,It],c=[];function u(s,l){return s[1]?0:s[0]===""?1:2}return e=u(t),n=c[e]=i[e](t),{c(){n.c(),o=ie()},m(s,l){c[e].m(s,l),L(s,o,l),r=!0},p(s,[l]){let a=e;e=u(s),e===a?c[e].p(s,l):(Ne(),C(c[a],1,1,()=>{c[a]=null}),je(),n=c[e],n?n.p(s,l):(n=c[e]=i[e](s),n.c()),T(n,1),n.m(o.parentNode,o))},i(s){r||(T(n),r=!0)},o(s){C(n),r=!1},d(s){s&&S(o),c[e].d(s)}}}function jt(t,e,n){const o=["timer","gray","tap"];let r=null,i=null,c=null;K(async()=>{console.log(!1),window.addEventListener("message",async l=>{if(console.log("message",l.data),l.origin!==re){console.log("Ignored message from untrusted origin:",l.origin);return}const a=JSON.parse(l.data);a!=null&&a.user_id&&(await O.set("user_id",a==null?void 0:a.user_id),await O.set("installation_timestamp",Math.round(Date.now()/1e3)),n(0,r=a.user_id),n(2,c=Math.round(Date.now()/1e3)))}),n(0,r=await O.get("user_id")??""),n(2,c=await O.get("installation_timestamp")??""),c&&n(2,c=parseInt(c)),console.log(r),window.addEventListener("keydown",l=>{l.ctrlKey&&l.shiftKey&&l.key==="Q"&&(O.remove("user_id"),O.remove("installation_timestamp"),O.remove("activated"),n(0,r=""),n(2,c=null),n(1,i=null))})});const u=60*60*24,s=async(l,a)=>{console.log(l,a);const f=Math.round(Date.now()/1e3);if(l%2===0&&f<a+u*7||l%2===1&&f>a+u*7){console.log("The intervention is currently active"),n(1,i=o[l%3]);const g=await O.get("activated");if(console.log(g),g)console.log("The intervention is currently active");else{O.set("activated",!0);let m="The intervention is currently active";i==="timer"?m="From now on, every time you access Social Media websites, you will be prompted to set a time limit for yourself. The remaining time is visible on the bottom right-hand corner of the screen. Once your time is up, you will be prompted to close the app, but you may alternatively set an additional time limit for yourself and continue using them.":i==="gray"?m="From this moment on, with each interaction with the website, your screen will slowly turn grayscale. This visual cue is designed to raise awareness of your screen time and promote a healthier relationship with the website.":i==="tap"&&(m="From now on, traditional scrolling methods will be disabled, and you can now navigate through posts by tapping the top half of the screen to move to the previous post and the bottom half to move to the next post. This new interaction aims to encourage a more deliberate and mindful browsing experience, allowing users to engage with content in a controlled and intentional manner."),alert(m)}}else n(1,i="none");kt(l,i)};return t.$$.update=()=>{t.$$.dirty&5&&r!==null&&r!==""&&c!==null&&c!==""&&s(r,c)},[r,i,c]}class Dt extends Q{constructor(e){super(),Y(this,e,jt,Nt,q,{})}}new Dt({target:document.getElementById("extension-app")});
